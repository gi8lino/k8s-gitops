---
apiVersion: v1
kind: ConfigMap
metadata:
  name: syncflaer
  namespace: syncflaer
data:
  config.yml: |2
    ---
    notifications:
      slack:
        webhookURL: env:SLACK_WEBHOOK_URL

    traefikInstances:
      - name: k3s
        url: https://traefik.local.${BASE_DOMAIN}
        customRequestHeaders:
          Forward-Auth-Token: env:FORWARD_AUTH_TOKEN
        ignoredRules:
          - local.${BASE_DOMAIN}
          - dev.${BASE_DOMAIN}

    additionalRecords:
      - name: vpn.${BASE_DOMAIN}
        ttl: 120
        proxied: false

    cloudflare:
      apiToken: env:CF_API_TOKEN
      zoneNames:
        - ${BASE_DOMAIN}
      deleteGrace: 5
      defaults:
        proxied: true
